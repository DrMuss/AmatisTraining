@model AT.Models.BlogViewModels.BlogVM

@{
    ViewData["Title"] = "Create";
    Layout = "~/Views/Admin/_LayoutAdmin.cshtml";
}


<div id="content" class="content">
    <h1 class="page-header">Create a New Article <small>
                                                    <a asp-controller="Blog"
                                                       asp-action="Index"
                                                       class="btn btn-lg btn-success">Back to List</a>
                                                </small>
    </h1>
    <div class="panel panel-inverse" data-sortable-id="form-stuff-1">
        <div class="panel-heading">
             <h4 class="panel-title">Create a New Article</h4>
        </div>
        <div class="panel-body">
            @if (Model.ShowSuccessToast)
            {
                <div class="alert alert-success">
                    The Blog Article was created successfully.  You now need to edit the article in the list to set it to published before it will be displayed on the main users blog page.
                </div>

            }


            <form method="post" 
                  asp-action="Create" 
                  asp-controller="Blog" enctype="multipart/form-data">

                <div asp-validation-summary="ModelOnly" class="text-danger"></div>
                <div class="form-group row m-b-15">
                    <label asp-for="Article.Title" class="col-form-label col-md-3"></label>
                    <div class="col-md-9">
                        <input asp-for="Article.Title" class="form-control m-b-5" placeholder="Article Title" />
                        <small class="f-s-12 text-danger"><span asp-validation-for="Article.Title" class="text-danger"></span></small>
                    </div>
                </div>

                <div class="form-group row m-b-15">
                    <label asp-for="Article.Author" class="col-form-label col-md-3"></label>
                    <div class="col-md-9">
                        <input asp-for="Article.Author" class="form-control" placeholder="Author's Name'" />
                        <small class="f-s-12 text-danger"><span asp-validation-for="Article.Author" class="text-danger"></span></small>
                    </div>
                </div>

                <div class="form-group row m-b-15">

                    
                        <label class="col-form-label col-md-3">Image Upload</label>

                        <div class="col-md-9">
                            <div class="input-group-btn">
                                <input class="form-control m-b-5" id="flPhoto" name="upload" type="file">
                            </div>
                        </div>
                   
                </div>

                <div class="form-group row m-b-15">
                    <label asp-for="Article.ShortDescription" class="col-form-label col-md-3"></label>
                    <div class="col-md-9">
                        <textarea asp-for="Article.ShortDescription" class="form-control m-b-5" rows="3" placeholder="Very short abstract that displays in the main blog grid"></textarea>
                        <small class="f-s-12 text-danger"><span asp-validation-for="Article.ShortDescription" class="text-danger"></span></small>
                    </div>
                </div>


                <div class="form-group">
                    <label asp-for="Article.Description" class="col-form-label col-md-3"></label>
                    <div class="col-md-12">

                        <textarea asp-for="Article.Description" class="ckeditor form-control m-b-5" rows="20">This is the main article</textarea>
                        <small class="f-s-12 text-danger"><span asp-validation-for="Article.Description" class="text-danger"></span></small>
                    </div>
                </div>




                <div class="form-group">
                    <div class="col-md-offset-2 col-md-10">
                        <input type="submit" value="Create Article" class="btn btn-success" />
                    </div>
                </div>

            </form>
        </div>
    </div>


   

    @section Scripts {
        @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}

    <script src="~/lib/ckeditor/ckeditor.js"></script>
    }
